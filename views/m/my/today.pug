extends ../vedio_layout

block js
    + js("/node_modules/quiz-adapter/main.js")
    + js("/js/quizModule.min.js")
    + js("/js/buzzModule.min.js")
    + js("/lib/jwplayer/jwplayer.js")
    script.
        jwplayer.key = 'lG24bAGJCRLF1gi4kajg4EnUKi+ujyUyKMoSNA==';
    + js("/js/level-ctrl.min.js")

block head
    + css("/public/css/modal.min.css")
    + css("/public/css/button.min.css")
    style.
        body {
            background: url('http://source.bridgeplus.cn/buzz/skin2.png') repeat 0 0;
            background-size: cover;
            background-attachment: fixed;
        }

        .cube, .cube .cube-side {
            width: auto;
            height: auto;
            min-height: 400px;
        }
        .arrow{
            padding-top: .2em;
        }
        .left.arrow{
            display: inline-block;
            width: 70%;
        }
        .right.arrow{
            display: inline-block;
            width: 30%;
            text-align: right;
            padding-right: 1rem;
        }


        .wechat-share-img {
            display: none;
        }
        .uiz_title_panel,.inProgress{
            display:none;
        }
        .titlecontainer{
            height: 70%;
            width: auto;
            margin: 3% 0 0 0;
            padding: 0 0 0 .5em;
            display: inline-block;
            position: absolute;
        }
        .imagecontainer{
            height:100%;
            width:auto;
            margin:0;
            display:inline-block;
            padding: .5em 0 0 0;
        }
        a.exercisebutton{
            width:45%;
            height:100%;
            display: inline-block;
            margin:  0;
            padding:0 !important;
            line-height: 2.5em;
            text-align: center;
        }
        div#space{
            width:5%;
            display:inline-block;
            margin: 0;
            padding: 0;
        }
        #word-1 .quiz_title_panel,.inProgress{
            display:none !important;
        }

mixin videoPlayer
    .center.aligned.container.column.flex-box.transparent
        iframe.row.content.white.background(ng-src="{{src}}" ng-controller="VideoPlayerCtrl", style="border:none; width: 100%;", allowfullscreen)

mixin quiz
    .center.aligned.container.column.white.background.row.content
        .tabular.menu(ng-controller="page2ParentCtrl")
            .item.middle(ng-class="{'active': $root.tabularIndex===1}",ng-click="tagToggle(1)")
                div.imagecontainer
                    image(src='../../../public/images/exersise1.png' style="width: 3em;")
                span.tag >
                div.titlecontainer
                   span.title.word Today's Vocabulary
                   br
                   span.word 今日单词

            .div
                .item(ng-show="$root.tabularIndex===1",ng-controller="newWordCtrl",style="position:relative;")
                    //div(style="position:absolute;top: 28px;padding-left: 60px;z-index: 100;width:100%;background-color: #f9f9f9;")
                    //    div(style="display:inline-block;height:40px;text-align:left;")
                    //        .button(ng-show="isWordMode&&hasWordMode",ng-click="changeWordMode(false)",style="background-color:white;padding: 5px 10px 5px 40px;border:2px solid #f7b52a;position:relative;box-shadow:2px 2px 2px #f7b52a;")
                    //            img(src="/images/bee.png",style="position:absolute;left:-15px;top:-25px;")
                    //            span(style="color:#666;font-size: .8em;") 进入练习
                    //        .button(ng-show="!isWordMode&&hasWordMode",ng-click="changeWordMode(true)",style="background-color:white;padding: 5px 10px 5px 40px;border:2px solid #f7b52a;position:relative;box-shadow:2px 2px 2px #f7b52a;")
                    //            img(src="/images/bee.png",style="position:absolute;left:-15px;top:-25px;")
                    //            span(style="color:#666;font-size: .8em;") 显示词汇
                    //.left.arrow(ng-click="turnWord(false)",ng-class="{'hidden':wordIndex===0}")
                    //    span.icon-circle-left
                    //.right.arrow(ng-click="turnWord(true)",ng-class="{'hidden':wordIndex===WORD_MAX_INDEX}")
                    //    span.icon-circle-right
                    .vocabulary.container.cube(ng-class="{'init': initStatus==='true', 'rtom':animateDirection==='rtom','ltom':animateDirection==='ltom','ttom':animateDirection==='ttom','btom':animateDirection==='btom','side-a':currentID==='word-1', 'side-b':currentID==='word-2', 'lock':!actionLock}")
                        .cube-side.side-a
                            iframe(id="word-1",frameborder="0",style="width: 100%; min-height: 400px;")
                        .cube-side.side-b
                            iframe(id="word-2",frameborder="0",style="width: 100%;min-height: 400px;")
                    div(style="z-index:1000;height:2.5em;width: 100%;background-color:white;")
                        a.button.yellow.exercisebutton(ng-show="isWordMode&&hasWordMode",ng-click="changeWordMode(false)") 进入练习
                        a.button.yellow.exercisebutton(ng-show="!isWordMode&&hasWordMode",ng-click="changeWordMode(true)") 显示词汇
                        div#space
                        a.button.yellow.exercisebutton(ng-click="turnWord(true)",ng-class="{'hidden':wordIndex===WORD_MAX_INDEX}") 下一题
            .item(ng-class="{'active': $root.tabularIndex===2}",ng-click="tagToggle(2)")
                div.imagecontainer
                    image(src='../../../public/images/exersise2.png' style="width: 3em;")
                span.tag >
                div.titlecontainer
                    span.title.word Daily Exercis
                    br
                    span.word 每日练习

            .div
                .item(ng-show="$root.tabularIndex===2",ng-controller="quizCtrl")
                    .left.arrow(ng-click="turnQuiz(false)",ng-class="{'hidden':quizIndex===0}")
                        span.icon-circle-left
                    .right.arrow(ng-click="turnQuiz(true)",ng-class="{'hidden':quizIndex>=quizLimit}")
                        span.icon-circle-right
                    .exercise.container.cube(ng-class="{'init': initStatus==='true', 'rtom':animateDirection==='rtom','ltom':animateDirection==='ltom','side-a':currentID==='quiz-1', 'side-b':currentID==='quiz-2', 'lock':!actionLock}")
                        .cube-side.side-a
                            iframe(id="quiz-1",frameborder="0",style="width: 100%;min-height: 400px;")
                        .cube-side.side-b
                            iframe(id="quiz-2",frameborder="0",style="width: 100%;min-height: 400px;")

            .item(ng-class="{'active': $root.tabularIndex===3}")
                div.imagecontainer
                    image(src='../../../public/images/exersise3.png' style="width: 3em;")
                span.tag >
                div.titlecontainer
                    span.title.word Weekly Quiz
                    br
                    span.word 每周测试

block content
    .wechat-share-img
        img(src="http://resource.buzzbuzzenglish.com/image2.jpg")
    #full-page.full.height.container(ng-app="buzzModule", ng-controller="UpdateHitsCtrl")
        if hcd_user
            a.page-pos(name="page-1")
            .page.with-header.section.transparent
                + videoPlayer
            a.page-pos(name="page-2")
            .with-footer.page.section.flex-box.scrolly(ng-controller="page2ParentCtrl")
                + quiz
        else
            a.page-pos(name="page-1")
            .page.with-header.section.transparent
                + videoPlayer
            a.page-pos(name="page-2")
            .page.section.flex-box.scrolly(ng-controller="page2ParentCtrl")
                + quiz
        include ../../partial/ask-for-login-modal
    if hcd_user
        include ../tail.pug
        + tailcontent(true,  false, false, false)


    include ../../js

