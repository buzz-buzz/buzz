include ../share/common

doctype html
html(manifest="/buzz.appcache")
    head
        meta(charset="utf-8")
        meta(http-equiv="X-UA-Compatible", content="IE=edge, chrome=1")
        meta(name="viewport", content="width=device-width, initial-scale=1.0, maximum-scale=1.0")
        include ../meta
        + css("/public/css/flex-box.min.css")
        + css("/public/css/lib/cube.min.css")
        title=title || 'Buzzbuzz English'
        block head
    body.full.screen.container
        #buzz-header.fluid.container.header.fixed(ng-controller="headerCtrl")
            .center.aligned.container.column.borderless
                ul.large.right.floated.white.horizontal.menu
                    block extraMenus
                    li(ng-class="{'active': isActive('/my/history')}")
                        a.middle.aligned.icon-history(title="历史课程", href="/my/history")
                    li(ng-class="{'active': isActive('/my/progress')}")
                        a.middle.aligned.icon-stats-bars(title="学习进度", href="/my/progress")
                    li(ng-class="{'active': isActive('/vocabulary/my')}")
                        a.middle.aligned.icon-file-text(title="生词本",href="/vocabulary/my")
                    li
                        img.middle.aligned.avatar(ng-src="{{profile.avatar}}", ng-if="profile.avatar")
                        a.middle.aligned(ng-if="!profile.avatar") 欢迎你
                        ul.sub.vertical.menu
                            li
                                a(href="/my/account") 账号信息
                            li
                                a(href="/my/password") 修改密码
                            li
                                a(href="/sign-out") 退出
                .white.title
                    a(href="/")
                        img.white.background.logo(src="http://resource.buzzbuzzenglish.com/new_buzz_logo.png")
                    span.space
                    span.top.aligned.welcome.message(style="position: absolute;",ng-cloak) Hello {{profile.display_name}}, welcome to Buzzbuzz English.
        .sidebar.sidebar-right
            .scrollable
                h1.scrollable-header.app-name  打赏
        block content
        include ../js
        + js("/js/buzzHeaderModule.min.js")
        script.
            angular.element(document).ready(function () {
                angular.bootstrap(document.getElementById('buzz-header'), ['buzzHeaderModule']);
            });
        block js