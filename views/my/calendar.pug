style.
    .calendar .header .grid {
        display: flex;
    }

    .calendar .header .grid .column {
        flex-grow: 2;
        text-align: center;
        border-left: solid 1px white;
        border-right: solid 1px white;
        color: white;
        padding: 8px 0;
        display: block;
        cursor: pointer;
    }

    .calendar .header .grid .column:first-child {
        flex-grow: 1;
        border: none;
    }

    .calendar .header .grid .column:last-child {
        flex-grow: 1;
        border: none;
    }

    .calendar .body .grid {
        display: block;
    }

    .calendar .body .grid .row {
        display: flex;
        flex-direction: row;
    }

    .calendar .body .grid .row .column {
        flex-grow: 1;
        text-align: center;
    }

    .calendar .body .grid .row.day .column {
        background-color: #eee;
        min-height: 80px;
        border: solid 1px white;
    }

    .dayOfWeek {
        position: absolute;
        width: 100%;
    }

    .performance {
        position: absolute;
        right: 0;
        bottom: 0;
        border-top: solid 25px transparent;
        border-right: solid 25px white;
        border-bottom: solid 25px white;
        border-left: solid 25px transparent;
        background-color: transparent;
        z-index: 1;
        cursor: pointer;
    }

    .performance + a {
        background: transparent;
        position: absolute;
        right: 1px;
        bottom: 0;
        z-index: 2;
        cursor: pointer;
    }

mixin weeks()
    - var week = 0;
    while week < 5
        .row.day
            - var day = 0;
                while day < 7
                    .column(style="position: relative;")
                        p.dayOfWeek {{weekDays[#{week}][#{day}] | date: 'd'}}
                        - var showPerformance = 'performances[' + week + '][' + day + '] !== ""';
                        .performance(ng-if=showPerformance)
                        a
                            - var good = 'performances[' + week + '][' + day + '] === "good"'
                            - var bad = 'performances[' + week + '][' + day + '] === "bad"'
                            - var none = 'performances[' + week + '][' + day + '] === "none"'
                            if day > 0 && day < 6
                                img(ng-src="http://source.bridgeplus.cn/image/png/%E5%AD%A6%E4%B9%A0%E8%BF%9B%E5%BA%A6_06.png", ng-if=good)
                                img(ng-src="http://source.bridgeplus.cn/image/png/%E5%AD%A6%E4%B9%A0%E8%BF%9B%E5%BA%A6_10.png", ng-if=bad)
                                img(ng-src="http://source.bridgeplus.cn/image/png/%E5%AD%A6%E4%B9%A0%E8%BF%9B%E5%BA%A6_13.png", ng-if=none)
                            else
                                img(ng-src="http://source.bridgeplus.cn/image/png/%E5%AD%A6%E4%B9%A0%E8%BF%9B%E5%BA%A6_08.png", ng-if=good)
                                img(ng-src="http://source.bridgeplus.cn/image/png/%E5%AD%A6%E4%B9%A0%E8%BF%9B%E5%BA%A6_03.png", ng-if=bad)
                                img(ng-src="http://source.bridgeplus.cn/image/png/%E5%AD%A6%E4%B9%A0%E8%BF%9B%E5%BA%A6_13.png", ng-if=none)
                    - day++;
        - week++;


.calendar(ng-controller="calendarCtrl")
    .header
        .grid
            a.column(ng-click="gotoMonth(-1)")
                span.icon-play3(style="transform: rotate(180deg); display: inline-block;")
            a.column {{current | date: 'MMM, yyyy'}}
            a.column(ng-click="gotoMonth(+1)")
                span.icon-play3
    .body.very.padded.horizontal
        .grid(ng-cloak)
            .row.weekday.padded.vertical
                .column
                    strong Su
                .column
                    strong Mo
                .column
                    strong Tu
                .column
                    strong We
                .column
                    strong Th
                .column
                    strong Fr
                .column
                    strong Sa
            + weeks